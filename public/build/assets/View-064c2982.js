import{c as w,w as u,o as d,a as t,f as m,t as l,d as a,k as n,C as i,h as p,e as b,g as f,F as v,b as h}from"./app-52d3e4e1.js";import{_ as C}from"./AppLayout-80abe472.js";import{_ as y}from"./Modal-9e9fbff6.js";import"./_plugin-vue_export-helper-c27b6911.js";const g=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Route Info ",-1),k={class:"py-12"},E={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},_={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-4"},S={class:"flex justify-between"},$=t("b",null," Route: ",-1),c=t("label",{for:"name"},"Route Name",-1),V=t("div",null,[t("button",{type:"submit",class:"bg-blue-600"}," Save ")],-1),U={class:"flex justify-between my-6"},D=t("h1",null,[t("b",null," Stops ")],-1),z={class:"mb-6 border p-4 rounded shadow-sm flex flex-col space-y-4 max-w-xl"},A={class:"flex justify-between"},N=t("b",null," Stop: ",-1),j={class:"flex space-x-2"},R=["onClick"],B=["onClick"],F=t("p",null,[t("b",null," Address: ")],-1),M=["href"],L={class:"flex space-x-4"},T=["onClick"],q={class:"my-2"},x=["onClick"],I=["href"],O={class:"flex items-center justify-between p-4"},P=t("h2",{class:"text-xl"},"Add Stop",-1),Z=t("label",{for:"order"},"Order",-1),G=t("label",{for:"street"},"Street",-1),H=t("label",{for:"street"},"Apt #",-1),J=t("label",{for:"city"},"City",-1),K=t("label",{for:"state"},"State",-1),Q=t("label",{for:"zip"},"Zip",-1),W={class:"flex flex-row justify-end"},X=t("button",{type:"submit",class:"bg-blue-500 hover:bg-blue-700"}," Add Stop ",-1),Y=t("h2",{class:"text-xl p-4"},"Contact",-1),tt=t("label",{for:"first_name"},"First Name",-1),et=t("label",{for:"last_name"},"Last Name",-1),ot=t("label",{for:"phone"},"Phone",-1),st=t("label",{for:"email"},"Email",-1),lt={class:"flex flex-row justify-end"},nt=t("button",{type:"submit",class:"bg-blue-600 min-w-[100px]"}," Save ",-1),mt={__name:"View",setup(it){return onMounted(()=>{store.dispatch("DataController","getRoute")}),(e,s)=>(d(),w(C,{title:"Dashboard"},{header:u(()=>[g]),default:u(()=>[t("div",k,[t("div",E,[t("div",_,[t("div",S,[t("h1",null,[$,m(" "+l(e.store.route.name),1)]),t("button",{onClick:s[0]||(s[0]=o=>e.store.routeEdit=!e.store.routeEdit)}," Edit ")]),e.store.routeEdit?(d(),a("form",{key:0,onSubmit:s[2]||(s[2]=p(o=>{e.store.submit("DataController","storeRoute",["route"]),e.store.routeEdit=!1},["prevent"]))},[t("div",null,[c,n(t("input",{type:"text",name:"name","onUpdate:modelValue":s[1]||(s[1]=o=>e.store.route.name=o)},null,512),[[i,e.store.route.name]])]),V],32)):b("",!0),t("div",U,[D,t("button",{onClick:s[3]||(s[3]=o=>{e.store.stopEdit=!e.store.stopEdit,e.store.stop={}})}," Add Stop ")]),(d(!0),a(v,null,f(e.store.stops,o=>(d(),a("div",z,[t("div",A,[t("p",null,[N,m(" "+l(o.order),1)]),t("div",j,[t("button",{class:"bg-blue-600 text-white rounded shadow text-xs font-bold p-1",onClick:r=>{e.store.stop=o,e.store.stopEdit=!0}}," Edit Stop ",8,R),t("button",{class:"bg-blue-600 text-white rounded shadow text-xs font-bold p-1",onClick:r=>{e.store.stop=o,e.store.contact={},e.store.contactEdit=!0}}," Add Contact ",8,B)])]),t("div",null,[F,t("p",null,[t("a",{href:"http://maps.google.com/?q="+o.street+" "+o.city+" "+o.state+" "+o.zip,target:"_blank"},l(o.street)+" "+l(o.street_2?`Apt: ${o.street_2}`:""),9,M)]),t("p",null,l(o.city)+", "+l(o.state)+" "+l(o.zip),1)]),t("div",null,[t("p",L,[t("button",{class:"text-blue-600",onClick:r=>e.store[`show-stop-${o.id}`]=!e.store[`show-stop-${o.id}`]}," Show ",8,T),t("b",null," Contacts: "+l(o.contacts.length),1)]),e.store[`show-stop-${o.id}`]?(d(!0),a(v,{key:0},f(o.contacts,r=>(d(),a("div",null,[t("div",q,[t("button",{class:"text-blue-600",onClick:rt=>{e.store.contactEdit=!0,e.store.contact=r,e.store.stop=o}},l(r.first_name)+" "+l(r.last_name),9,x),t("p",null,[t("a",{href:"tel:"+r.phone,class:"text-purple-800 block mt-2"},l(r.phone),9,I)]),t("p",null,l(r.email),1)])]))),256)):b("",!0)])]))),256))])])]),h(y,{show:e.store.stopEdit},{default:u(()=>[t("div",O,[P,t("button",{class:"text-red-600",onClick:s[4]||(s[4]=o=>{e.store.submit("DataController","deleteStop",["stop"]),e.store.stopEdit=!1})}," Delete Stop ")]),t("form",{onSubmit:s[12]||(s[12]=p(o=>{e.store.submit("DataController","storeStop",["stop","route"]),e.store.stopEdit=!1},["prevent"])),class:"p-4"},[t("div",null,[Z,n(t("input",{type:"text",name:"order",id:"order","onUpdate:modelValue":s[5]||(s[5]=o=>e.store.stop.order=o)},null,512),[[i,e.store.stop.order]])]),t("div",null,[G,n(t("input",{type:"text",name:"street",id:"street","onUpdate:modelValue":s[6]||(s[6]=o=>e.store.stop.street=o)},null,512),[[i,e.store.stop.street]])]),t("div",null,[H,n(t("input",{type:"text",name:"street",id:"street","onUpdate:modelValue":s[7]||(s[7]=o=>e.store.stop.street_2=o)},null,512),[[i,e.store.stop.street_2]])]),t("div",null,[J,n(t("input",{type:"text",name:"city",id:"city","onUpdate:modelValue":s[8]||(s[8]=o=>e.store.stop.city=o)},null,512),[[i,e.store.stop.city]])]),t("div",null,[K,n(t("input",{type:"text",name:"state",id:"state","onUpdate:modelValue":s[9]||(s[9]=o=>e.store.stop.state=o)},null,512),[[i,e.store.stop.state]])]),t("div",null,[Q,n(t("input",{type:"text",name:"zip",id:"zip","onUpdate:modelValue":s[10]||(s[10]=o=>e.store.stop.zip=o)},null,512),[[i,e.store.stop.zip]])]),t("div",W,[t("button",{onClick:s[11]||(s[11]=o=>{e.store.stopEdit=!1,e.store.stop={}}),class:"bg-red-600"}," Cancel "),X])],32)]),_:1},8,["show"]),h(y,{show:e.store.contactEdit},{default:u(()=>[Y,t("form",{onSubmit:s[18]||(s[18]=p(o=>{e.store.submit("DataController","storeContact",["stop","contact","route"]),e.store.contactEdit=!1},["prevent"])),class:"p-4"},[t("div",null,[tt,n(t("input",{"onUpdate:modelValue":s[13]||(s[13]=o=>e.store.contact.first_name=o),type:"text",name:"first_name",id:"first_name"},null,512),[[i,e.store.contact.first_name]])]),t("div",null,[et,n(t("input",{"onUpdate:modelValue":s[14]||(s[14]=o=>e.store.contact.last_name=o),type:"text",name:"last_name",id:"last_name"},null,512),[[i,e.store.contact.last_name]])]),t("div",null,[ot,n(t("input",{"onUpdate:modelValue":s[15]||(s[15]=o=>e.store.contact.phone=o),type:"text",name:"phone",id:"phone"},null,512),[[i,e.store.contact.phone]])]),t("div",null,[st,n(t("input",{"onUpdate:modelValue":s[16]||(s[16]=o=>e.store.contact.email=o),type:"text",name:"email",id:"email"},null,512),[[i,e.store.contact.email]])]),t("div",lt,[t("button",{type:"button",class:"bg-red-600 min-w-[100px]",onClick:s[17]||(s[17]=o=>{e.store.contactEdit=!1,e.store.stop={},e.store.contact={}})}," Cancel "),nt])],32)]),_:1},8,["show"])]),_:1}))}};export{mt as default};
