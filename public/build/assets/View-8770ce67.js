import{c as C,w as u,o as a,a as t,f as b,t as n,d,k as i,C as r,h as p,e as f,g as h,F as v,b as y}from"./app-5f897a33.js";import{_ as g}from"./AppLayout-70869941.js";import{_ as c}from"./Modal-5c2a22ae.js";import"./_plugin-vue_export-helper-c27b6911.js";const k=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Route Info ",-1),_={class:"py-12"},$={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},E={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-4"},S={class:"flex justify-between"},V=t("b",null," Route: ",-1),D=t("label",{for:"name"},"Route Name",-1),U=t("div",null,[t("button",{type:"submit",class:"bg-blue-600"}," Save ")],-1),N={class:"flex justify-between my-6"},j=t("h1",null,[t("b",null," Stops ")],-1),z={class:"mb-6 border p-4 rounded shadow-sm flex flex-col space-y-4 max-w-xl"},A={class:"flex justify-between"},x=t("b",null," Stop: ",-1),R={class:"flex space-x-2"},B=["onClick"],F=["onClick"],L=t("p",null,[t("b",null," Address: ")],-1),M=["href"],P={class:"flex space-x-4"},O=["onClick"],T={class:"my-2 flex items-center space-x-2 flex-wrap"},q=["onClick"],I=["href"],Y={class:"flex space-x-4"},Z=t("b",null,"Pickup:",-1),G={class:"flex items-center justify-between p-4"},H=t("h2",{class:"text-xl"},"Add Stop",-1),J=t("label",{for:"order"},"Order",-1),K=t("label",{for:"street"},"Street",-1),Q=t("label",{for:"street"},"Apt #",-1),W=t("label",{for:"city"},"City",-1),X=t("label",{for:"state"},"State",-1),tt=t("label",{for:"zip"},"Zip",-1),et={class:"flex flex-row justify-end"},ot=t("button",{type:"submit",class:"bg-blue-500 hover:bg-blue-700"}," Add Stop ",-1),st=t("h2",{class:"text-xl p-4"},"Contact",-1),nt=t("label",{for:"first_name"},"First Name",-1),lt=t("label",{for:"last_name"},"Last Name",-1),it=t("label",{for:"phone"},"Phone",-1),rt=t("label",{for:"email"},"Email",-1),at={class:"flex flex-row justify-end"},dt=t("button",{type:"submit",class:"bg-blue-600 min-w-[100px]"}," Save ",-1),ht={__name:"View",setup(ut){onMounted(()=>{store.dispatch("DataController","getRoute")});const w=e=>{if(!e)return"";const s=new Date(e),o=s.toLocaleString("default",{month:"long"}),l=s.getDate(),m=s.getFullYear();return`${o} ${l}, ${m}`};return(e,s)=>(a(),C(g,{title:"Dashboard"},{header:u(()=>[k]),default:u(()=>[t("div",_,[t("div",$,[t("div",E,[t("div",S,[t("h1",null,[V,b(" "+n(e.store.route.name),1)]),t("button",{onClick:s[0]||(s[0]=o=>e.store.routeEdit=!e.store.routeEdit)}," Edit ")]),e.store.routeEdit?(a(),d("form",{key:0,onSubmit:s[2]||(s[2]=p(o=>{e.store.submit("DataController","storeRoute",["route"]),e.store.routeEdit=!1},["prevent"]))},[t("div",null,[D,i(t("input",{type:"text",name:"name","onUpdate:modelValue":s[1]||(s[1]=o=>e.store.route.name=o)},null,512),[[r,e.store.route.name]])]),U],32)):f("",!0),t("div",N,[j,t("button",{onClick:s[3]||(s[3]=o=>{e.store.stopEdit=!e.store.stopEdit,e.store.stop={}})}," Add Stop ")]),(a(!0),d(v,null,h(e.store.stops,o=>(a(),d("div",z,[t("div",A,[t("p",null,[x,b(" "+n(o.order),1)]),t("div",R,[t("button",{class:"bg-blue-600 text-white rounded shadow text-xs font-bold p-1",onClick:l=>{e.store.stop=o,e.store.stopEdit=!0}}," Edit Stop ",8,B),t("button",{class:"bg-blue-600 text-white rounded shadow text-xs font-bold p-1",onClick:l=>{e.store.stop=o,e.store.contact={},e.store.contactEdit=!0}}," Add Contact ",8,F)])]),t("div",null,[L,t("p",null,[t("a",{href:"http://maps.google.com/?q="+o.street+" "+o.city+" "+o.state+" "+o.zip,target:"_blank"},n(o.street)+" "+n(o.street_2?`Apt: ${o.street_2}`:""),9,M)]),t("p",null,n(o.city)+", "+n(o.state)+" "+n(o.zip),1)]),t("div",null,[t("p",P,[t("b",null," Contacts: "+n(o.contacts.length),1),t("button",{class:"text-blue-600",onClick:l=>e.store[`show-stop-${o.id}`]=!e.store[`show-stop-${o.id}`]}," Show ",8,O)]),e.store[`show-stop-${o.id}`]?(a(!0),d(v,{key:0},h(o.contacts,l=>(a(),d("div",null,[t("div",T,[t("button",{class:"text-blue-600",onClick:m=>{e.store.contactEdit=!0,e.store.contact=l,e.store.stop=o}},n(l.first_name)+" "+n(l.last_name),9,q),t("a",{href:"tel:"+l.phone,class:"text-purple-800 block"},n(l.phone),9,I),t("p",null,n(l.email),1)])]))),256)):f("",!0)]),t("div",null,[t("p",Y,[Z,t("span",null,n(o.pickups.length?w(o.pickups[0].date):"None"),1)])])]))),256))])])]),y(c,{show:e.store.stopEdit},{default:u(()=>[t("div",G,[H,t("button",{class:"text-red-600",onClick:s[4]||(s[4]=o=>{e.store.submit("DataController","deleteStop",["stop"]),e.store.stopEdit=!1})}," Delete Stop ")]),t("form",{onSubmit:s[12]||(s[12]=p(o=>{e.store.submit("DataController","storeStop",["stop","route"]),e.store.stopEdit=!1},["prevent"])),class:"p-4"},[t("div",null,[J,i(t("input",{type:"text",name:"order",id:"order","onUpdate:modelValue":s[5]||(s[5]=o=>e.store.stop.order=o)},null,512),[[r,e.store.stop.order]])]),t("div",null,[K,i(t("input",{type:"text",name:"street",id:"street","onUpdate:modelValue":s[6]||(s[6]=o=>e.store.stop.street=o)},null,512),[[r,e.store.stop.street]])]),t("div",null,[Q,i(t("input",{type:"text",name:"street",id:"street","onUpdate:modelValue":s[7]||(s[7]=o=>e.store.stop.street_2=o)},null,512),[[r,e.store.stop.street_2]])]),t("div",null,[W,i(t("input",{type:"text",name:"city",id:"city","onUpdate:modelValue":s[8]||(s[8]=o=>e.store.stop.city=o)},null,512),[[r,e.store.stop.city]])]),t("div",null,[X,i(t("input",{type:"text",name:"state",id:"state","onUpdate:modelValue":s[9]||(s[9]=o=>e.store.stop.state=o)},null,512),[[r,e.store.stop.state]])]),t("div",null,[tt,i(t("input",{type:"text",name:"zip",id:"zip","onUpdate:modelValue":s[10]||(s[10]=o=>e.store.stop.zip=o)},null,512),[[r,e.store.stop.zip]])]),t("div",et,[t("button",{onClick:s[11]||(s[11]=o=>{e.store.stopEdit=!1,e.store.stop={}}),class:"bg-red-600"}," Cancel "),ot])],32)]),_:1},8,["show"]),y(c,{show:e.store.contactEdit},{default:u(()=>[st,t("form",{onSubmit:s[18]||(s[18]=p(o=>{e.store.submit("DataController","storeContact",["stop","contact","route"]),e.store.contactEdit=!1},["prevent"])),class:"p-4"},[t("div",null,[nt,i(t("input",{"onUpdate:modelValue":s[13]||(s[13]=o=>e.store.contact.first_name=o),type:"text",name:"first_name",id:"first_name"},null,512),[[r,e.store.contact.first_name]])]),t("div",null,[lt,i(t("input",{"onUpdate:modelValue":s[14]||(s[14]=o=>e.store.contact.last_name=o),type:"text",name:"last_name",id:"last_name"},null,512),[[r,e.store.contact.last_name]])]),t("div",null,[it,i(t("input",{"onUpdate:modelValue":s[15]||(s[15]=o=>e.store.contact.phone=o),type:"text",name:"phone",id:"phone"},null,512),[[r,e.store.contact.phone]])]),t("div",null,[rt,i(t("input",{"onUpdate:modelValue":s[16]||(s[16]=o=>e.store.contact.email=o),type:"text",name:"email",id:"email"},null,512),[[r,e.store.contact.email]])]),t("div",at,[t("button",{type:"button",class:"bg-red-600 min-w-[100px]",onClick:s[17]||(s[17]=o=>{e.store.contactEdit=!1,e.store.stop={},e.store.contact={}})}," Cancel "),dt])],32)]),_:1},8,["show"])]),_:1}))}};export{ht as default};
